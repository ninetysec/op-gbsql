-- auto gen by cheery 2015-12-23 15:25:18
-- 支付接口表字段添加
INSERT INTO "sys_resource" ("id", "name", "url", "remark", "parent_id", "structure", "sort_num", "subsys_code", "permission", "resource_type", "icon", "privilege", "built_in", "status")
SELECT '20501', '支付接口-是否启用', 'payApi/changeUseStatus.html', '支付接口-是否启用', '205', NULL, '1', 'boss', 'test:view', '2', NULL, 't', 't', 't'
WHERE 'payApi/changeUseStatus.html' NOT  in (SELECT url FROM sys_resource WHERE url='payApi/changeUseStatus.html' AND parent_id='205');

INSERT INTO "sys_resource" ("id", "name", "url", "remark", "parent_id", "structure", "sort_num", "subsys_code", "permission", "resource_type", "icon", "privilege", "built_in")
SELECT '607', '货币管理', 'setting/currency/curyList.html', '货币管理', '6', NULL, '1', 'boss', 'test:view', '1', NULL, 'f', 'f'
WHERE 'setting/currency/curyList.html' NOT in (SELECT url FROM sys_resource WHERE url='setting/currency/curyList.html' AND parent_id='6');

UPDATE "sys_resource" SET "url"='payApi/list.html' WHERE id='205';

--创建玩家推荐奖励周期性任务
INSERT INTO task_schedule (job_name, alias_name, job_group, job_class, job_method, job_method_arg, is_local, status, cronexpression, is_sync, description, create_time, update_time, job_code, is_system, is_dynamic)
SELECT '玩家推荐奖励周期性任务', NULL, NULL, 'so.wwb.gamebox.service.master.PlayerRecommendAwardJob', 'execute', NULL, 't', '1', '0 0 0 * * ?', 'f', NULL, now(), NULL, '999a050b84c57f0659078b707bcd0563', 't', 'f'
 WHERE '999a050b84c57f0659078b707bcd0563' NOT in (SELECT job_code FROM task_schedule);

--创建转账任务
INSERT INTO "task_schedule" ("job_name", "alias_name", "job_group", "job_class", "job_method", "job_method_arg", "is_local", "status", "cronexpression", "is_sync", "description", "create_time", "update_time", "job_code", "is_system", "is_dynamic")
SELECT '站点1-处理转账任务', NULL, NULL, 'so.wwb.gamebox.iservice.master.fund.IPlayerTransferService', 'PlayerTransferTask', E'\\254\\355\\000\\005sr\\0004so.wwb.gamebox.model.master.fund.vo.PlayerTransferVo\\346E[\\012M&\\227\\207\\002\\000\\005Z\\000\\007isExistI\\000\\012resultCodeL\\000\\014resultStatust\\000\\022Ljava/lang/String;L\\000\\014transferIntoq\\000~\\000\\001L\\000\\013transferOutq\\000~\\000\\001xr\\000"org.soul.model.common.BaseObjectVo\\233?Z\\006\\212O\\221\\264\\002\\000\\002L\\000\\010entitiest\\000\\020Ljava/util/List;L\\000\\006resultt\\000\\037Lorg/soul/commons/bean/IEntity;xr\\000\\034org.soul.model.common.BaseVo\\253\\206\\253c\\367`\\215h\\002\\000\\010Z\\000\\007successL\\000\\006errMsgq\\000~\\000\\001L\\000\\005logVot\\000#Lorg/soul/model/log/audit/vo/LogVo;L\\000\\005okMsgq\\000~\\000\\001[\\000\\012propertiest\\000\\023[Ljava/lang/String;L\\000\\005queryt\\000\\036Lorg/soul/model/common/IQuery;L\\000\\014searchObjectq\\000~\\000\\004L\\000\\014validateRuleq\\000~\\000\\001xr\\000,org.soul.commons.init.context.AbstractBaseVo\\232"V\\260\\276\\007?\\323\\002\\000\\015L\\000\\015_dataSourceIdt\\000\\023Ljava/lang/Integer;L\\000\\011_entranceq\\000~\\000\\012L\\000\\007_localet\\000\\022Ljava/util/Locale;L\\000\\011_operatort\\000(Lorg/soul/commons/init/context/Operator;L\\000\\012_sessionIdq\\000~\\000\\001L\\000\\011_siteCodeq\\000~\\000\\001L\\000\\007_siteIdq\\000~\\000\\012L\\000\\013_siteLocaleq\\000~\\000\\013L\\000\\015_siteParentIdq\\000~\\000\\012L\\000\\015_siteTimeZonet\\000\\024Ljava/util/TimeZone;L\\000\\013_siteUserIdq\\000~\\000\\012L\\000\\011_timeZoneq\\000~\\000\\015L\\000\\007_userIdq\\000~\\000\\012xpsr\\000\\021java.lang.Integer\\022\\342\\240\\244\\367\\201\\2078\\002\\000\\001I\\000\\005valuexr\\000\\020java.lang.Number\\206\\254\\225\\035\\013\\224\\340\\213\\002\\000\\000xp\\000\\000\\000\\001pppppppppppp\\001pppur\\000\\023[Ljava.lang.String;\\255\\322V\\347\\351\\035{G\\002\\000\\000xp\\000\\000\\000\\000sr\\000Hso.wwb.gamebox.model.master.fund.vo.PlayerTransferVo$PlayerTransferQuery\\366\\0118|F\\033\\307''\\002\\000\\000xr\\000#org.soul.model.common.AbstractQueryM\\022\\035j\\200g\\015\\007\\002\\000\\003[\\000\\012criterionst\\000#[Lorg/soul/commons/query/Criterion;L\\000\\014pageOrderMapt\\000\\017Ljava/util/Map;L\\000\\014searchObjectq\\000~\\000\\004xpur\\000#[Lorg.soul.commons.query.Criterion;\\343>\\2374Mf\\316\\201\\002\\000\\000xp\\000\\000\\000\\000sr\\000\\027java.util.LinkedHashMap4\\300N\\\\\\020l\\300\\373\\002\\000\\001Z\\000\\013accessOrderxr\\000\\021java.util.HashMap\\005\\007\\332\\301\\303\\026`\\321\\003\\000\\002F\\000\\012loadFactorI\\000\\011thresholdxp?@\\000\\000\\000\\000\\000\\001w\\010\\000\\000\\000\\001\\000\\000\\000\\000x\\000sr\\0004so.wwb.gamebox.model.master.fund.so.PlayerTransferSo\\033\\311\\024\\036\\002\\331\\0228\\002\\000\\000xr\\0002so.wwb.gamebox.model.master.fund.po.PlayerTransfer\\015\\200!\\213C\\004\\262\\222\\002\\000\\013L\\000\\005apiIdq\\000~\\000\\012L\\000\\002idq\\000~\\000\\012L\\000\\023playerTransactionIdq\\000~\\000\\012L\\000\\015transactionNoq\\000~\\000\\001L\\000\\016transferAmountt\\000\\022Ljava/lang/Double;L\\000\\026transferFailtureReasonq\\000~\\000\\001L\\000\\015transferStateq\\000~\\000\\001L\\000\\014transferTimet\\000\\020Ljava/util/Date;L\\000\\014transferTypeq\\000~\\000\\001L\\000\\006userIdq\\000~\\000\\012L\\000\\010userNameq\\000~\\000\\001xppppppppppppq\\000~\\000"psr\\000\\023java.util.ArrayListx\\201\\322\\035\\231\\307a\\235\\003\\000\\001I\\000\\004sizexp\\000\\000\\000\\000w\\004\\000\\000\\000\\000xp\\001\\000\\000\\000\\000t\\000\\000pp', 'f', '1', '0 0/30 * * * ?', 't', NULL, '2015-12-22 01:26:29.249', NULL, 'siteId-1-003', 'f', 't'
WHERE 'siteId-1-003' NOT in (SELECT job_code FROM task_schedule);
